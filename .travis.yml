---
language: ruby
bundler_args: --without system_tests
script: "bundle exec rake validate && bundle exec rake lint && bundle exec rake spec SPEC_OPTS='--format documentation' && bundle exec rake metadata_lint"
env:
  global:
    - secure: "EfYyYV97WNAc9pbU6FX01eDFhbiEg/DDle3AjYH3JieQrs+6FSusKbCVmKcvvC/1VtLQti2vTPTkUA7DgbKFKdntNg3fTSWN5P/H52gGDzsUn28jGcJvXHWPPdFrHxHSnwvHpRjl4WZONpsoe6IzziuPWwr7PET8P7bbxwkSxMudphWpbIvSokEWxCaB1YNXJwYJjMJWl630MqexgCHAs8k1k7Sh0u6+5r9Hq28CjLj2Ur9USbaSBkl/4kMviHojC8eNGdmNCcVK386MF5JUGYiBINUoyiuc72w5WHlwKOAaZo5UhjqkC4nT9ZotYUignyXtAz8MPzTRMa3Y+4V18jA4tZL4rP+MmbSeFshf/ZF+XNQbWqmOwXQWgGwxCymspS8atDpZNekRzFXao1904sD8BQ8mOamJ4xoBN1YP/OXSsNVYEwXLGLofe5fYdwEw1rIugK02mZc5FRLI5/IrqKT+udJqUZI6ageAme0VyzX/h1aiykT81BDgn1XwMMtD6oFjDE+F5hoTy9hnB1VCC651P1iF5BDga/Xd3CHtNDrzYiU1A1oCn+MFL+D3Jqj+BXdUQzz78ZA2YvmuKQyGHMm65Z3CrMcR1g9M6kbnSILC1EMzLnHxh6nJdPs39XWqnBuL3JRb1qx1k7F+z32camt55YFHtfEVROtYcuP/EPY="
    - secure: "CNTsuOzTVPR3RLnMBs5vgmgdXxqoV1nflxXERLKNFOYhpE4AfDhimp1j5n8rEJvP7aCrenwxnkTACZrT2Q/+0QX8bl9lytDpwXs/Ul3fLHROxcJ7VVX+G3wacgj7c5f4LS0Z+AAyip4ZBs9Bf6klBqbjwlLtGP823tty3z9asawCuB8YYTGAKa+iK7qYMe3Y+KGnqoM82WMtdDiM8IHeeRRaC2Ev5wo3tVNX+AJ3j5ALhMI6xoWCHl6IM1ilpVlNtz6IrI8rfeJCOUdpOTn+SIRda6M7jdUKDJthW7DFC5SKYgGxUJaS+vnIs+WTmthlVnGUPb4yMz6Nbfq04VsptqfwIrOuQxgoMo6KQyRVyDTvqclLqazhalNKjV7EnIizn1TYX9GmoSWom2XFJ/HF043d/cwnscQWEqrK+HnYRVYclklOQ456ibQNoYa1KQRYSRnKjEFWQ3TuurSDtgGm4Vo+l9G7g6WoT93HhSQPFfdyvRyonW3fdj7eDFr5CZORE5sM89nFgroh7HEqzljCLGA/ViOjQygXJqcBKSh07izahTAXn+QHkpYzJ7R2/7JYXPiQmsjVlIkhbYcjSdZsqApWzY8Y1WePtT4xvvecAt59zlIu7QDFQtAOIGlrHtABRDNnzFjIyxgYeProNKuJOLtcdDyBSDW/nqSD5xeDupU="
    - secure: "OsioDibMbhjit3572dD5I/OvEXZiv3Lvdgc5ekNdYNw+cLyE0blVlJ9HFQPlJeae0qemJ938ydJw235dQWQTWSZk/5U69mCg1B6YYTmSaT8YP+W6rmo5CIIF87WyNIWH/aGG2nFf0uXVfuSFhsyJRYAFpQfSNUcmAoimai6HXBircOTag8tjVSbw5PKlx3OQuSCMxVaMd/9bTRt3aT0j3+jnFt03BP6rbxIv3HaQbxjoPv2eCUF8l68GgBoIaQQmUAld7/VjAD8CztQvq3urc1kBel6wC5e4+tVbHwaEfY6NxFQgun7TUXoYqzOxZJSibPymrxwMXqminuoGnHCzpu4pI8LhmBkedO1VQ/TdhFI4nZiYDRp0dz73XdruJyK/FD89Cv7Zld1ft1ZscBhmcyuqn/NuPOVdi/0EYMONiT4avg27DYy196Yoj4ih/MKfEsZByx3N1vO7mKEJNLVzGYuqoW+EJDwGY8bOLHQ/s/ZShVM2qAVxvz57Mg1MWeQG3TNUAdAogDPa68oM9+KrmMoOX6QaF2ZkJjBza5TYATie3UY9t54opDzOZp1bZQm0nd3W4cR/ctpM/J4GTrpnSnQHRK8r9OAO7Dr67AC6gUay4gIQB7HiwTTj5S1m5y42VCwlkowttlFJa8JnQ680FYO/mDXG+RBjcBk08DBlRvM="
    - BLACKSMITH_FORGE_URL=https://forgeapi.puppetlabs.com
matrix:
  include:
  - rvm: 2.1.8
    env: PUPPET_GEM_VERSION="~> 4.3"
  - rvm: 2.1.6
    env: PUPPET_GEM_VERSION="~> 4.2"
notifications:
  email: nicolas@corrarello.com
after_success:
  - "curl -o /tmp/travis-automerge https://raw.githubusercontent.com/ncorrare/travis-scripts/master/aftersuccessforge.sh"
  - "chmod a+x /tmp/travis-automerge"
  - "BRANCHES_TO_MERGE_REGEX='^f/' BRANCH_TO_MERGE_INTO=master GITHUB_REPO=ncorrare/skel /tmp/travis-automerge"
