---
language: ruby
bundler_args: --without system_tests
script: "bundle exec rake validate && bundle exec rake lint && bundle exec rake spec SPEC_OPTS='--format documentation' && bundle exec rake metadata_lint"
env:
  global:
    - secure: "KyD6tc2lxDbwFXH3SU4Tb325Ck5ZyZHEyD2vzHx4Z7n/IP2aLV58foM29fBooqsz4kilNa4PeFzb9hLeUmtn1EM/c6lffAcDu4FG4gLE9FBYVoAa+RWQUbRSL7IgZyoUy4olglCvtsOGu5WsveKA9ekmWpmhu2Mou4Z4Pi4zY+NiDhItgUP9pGG6WtjkgNjuLq9VW0KzBxYsTrSoLlTgnPZpeZ6gwmuKnYkRXtyH7Z4P2Cqf0MSy3Z2ZnAgPfXspI1Gh2FZXcZuQUWgt44+h+3zDJpHAIKTowxL57xOq4h1ZSeZkpM2YvviflJJhZJBlp6zrduPVr3HezTULVbyapJqLTtstWswcrMkqL1HRNPFpHexU1ZSTiqa2nGqnMTK2ZeIUrwFzJ4DFmgGqdBDmU/DNzySxivAajh4kPjgSgFHNfd7JxZ5JfA0CkJSCBtToDZiEv9zeDlJANhsPSQHUg6srb8fMhQz8nD2sLOFAgQA2I2awGPQhEk7SLsEXRYMeYnsenRTcz+3sqjinguacBS/C0WOlbuMY8m/ArtlRPMuLELKtoM3QA+de/hcztW+gRw/cgCbpuYl+x/CS+6nnLzI8bNE8c4b+V1O/mMlwYZ8KOCUulkn6bQslw+02o+izr8JJn1ZLhJWjk1NrGd10mRbe0ZDpAD9GctkglR8QpuQ="
    - secure: "CNTsuOzTVPR3RLnMBs5vgmgdXxqoV1nflxXERLKNFOYhpE4AfDhimp1j5n8rEJvP7aCrenwxnkTACZrT2Q/+0QX8bl9lytDpwXs/Ul3fLHROxcJ7VVX+G3wacgj7c5f4LS0Z+AAyip4ZBs9Bf6klBqbjwlLtGP823tty3z9asawCuB8YYTGAKa+iK7qYMe3Y+KGnqoM82WMtdDiM8IHeeRRaC2Ev5wo3tVNX+AJ3j5ALhMI6xoWCHl6IM1ilpVlNtz6IrI8rfeJCOUdpOTn+SIRda6M7jdUKDJthW7DFC5SKYgGxUJaS+vnIs+WTmthlVnGUPb4yMz6Nbfq04VsptqfwIrOuQxgoMo6KQyRVyDTvqclLqazhalNKjV7EnIizn1TYX9GmoSWom2XFJ/HF043d/cwnscQWEqrK+HnYRVYclklOQ456ibQNoYa1KQRYSRnKjEFWQ3TuurSDtgGm4Vo+l9G7g6WoT93HhSQPFfdyvRyonW3fdj7eDFr5CZORE5sM89nFgroh7HEqzljCLGA/ViOjQygXJqcBKSh07izahTAXn+QHkpYzJ7R2/7JYXPiQmsjVlIkhbYcjSdZsqApWzY8Y1WePtT4xvvecAt59zlIu7QDFQtAOIGlrHtABRDNnzFjIyxgYeProNKuJOLtcdDyBSDW/nqSD5xeDupU="
    - secure: "QedvxzraQePW2jWbAlFx5MrOCUEFEiyrW/+noI+5R4EZHX0/cdf7XXvO1/Hazgbz3eXnmjJinVXAwcEGtfqUfO8ewLC3HbF4WKoIKYe2XPyXUxflF2QlGaNkSgHSjGtA5zou6U+6464XNoQALywo3RCe96wtQKP83p71kLhzdjLL369NhsP8puhiOMLl2MUUYrde4mMLcTVip7LRIGvUpHhWRjO1QPbL+Y0iithFsh++NlL0mdQsh4qGT5G1ui03YAqEWqIRLeWTBDo8ZUmTqQoSUByW/ZyO6nHpks9oqEdfRR0uNn5GHiksMpTwEJiDSskTeuYk8WWe9mSu4upHezR1Aan1m4QXam1XzrRsQSoG7SJTmxlrZraJGZ7JerbY1dxtfyfCYQWE+QwIB1KTE6KsxpLU2EvztCqAi8pfK++C9CDoB3rsP6OAEpBBKNV69YOM7qw2zpSK+LDczyxGSmEGR14LcOLC3ifZHKXjI8cUOj6ianX82TIdZCuePU03uhjvlaYZygBOrtoD9H5H4Ss4HGSzPCZaKseLycSCFwAMnJVLSMXKTehud/7MMnvuikXo4UTnKI8Z+M9fEpPHXyd9AGfXNHmZfk6z1aGq5qP2dOsxhgI2d9kGAgvvqgFDObLUcaM+POcpjnBDds00OJlxo4XFQBL45fBgl9gbPLY="
    - BLACKSMITH_FORGE_URL=https://forgeapi.puppetlabs.com
matrix:
  include:
  - rvm: 2.1.8
    env: PUPPET_GEM_VERSION="~> 4.3"
  - rvm: 2.1.6
    env: PUPPET_GEM_VERSION="~> 4.2"
notifications:
  email: nicolas@corrarello.com
after_success:
  - "curl -o /tmp/travis-automerge https://raw.githubusercontent.com/ncorrare/travis-scripts/master/aftersuccessforge.sh"
  - "chmod a+x /tmp/travis-automerge"
  - "/tmp/travis-automerge"
